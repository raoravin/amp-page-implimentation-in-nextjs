export function generateAMPHTML(baseUrl = "https://localhost:3000") {
  const post = {
    ID: 23949,
    post_author: 4,
    post_date: "2025-08-25T12:34:33.000Z",
    post_date_gmt: "2025-08-25T07:04:33.000Z",
    post_content:
      "<!-- wp:paragraph -->\n" +
      '<p>The Supreme Court of India has allowed an appeal filed by <a href="https://cescmysore.karnataka.gov.in/en">Chamundeshwari Electricity Supply Company Ltd. (CESC)</a> and set aside the orders of the Karnataka Electricity Regulatory Commission (KERC) and the<a href="https://www.aptel.gov.in/en"> Appellate Tribunal for Electricity (APTEL)</a> in a dispute involving a 10 MW solar power project at Chitradurga, Karnataka.</p>\n' +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      '<p><strong><a href="https://courtbook.in/posts/supreme-court-sets-aside-aptel-and-kerc-orders-in-chamundeshwari-electricity-case-hindi">हिंदी में पढ़ें</a></strong></p>\n' +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      '<!-- wp:heading {"level":4} -->\n' +
      '<h4 class="wp-block-heading">Background of the Case</h4>\n' +
      "<!-- /wp:heading -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      '<p>The dispute began when Saisudhir Energy (Chitradurga) Pvt. Ltd., the project developer, entered into a <a href="https://en.wikipedia.org/wiki/Power_purchase_agreement">Power Purchase Agreement (PPA) </a>with CESC in August 2012 for supplying solar power at a tariff of ₹8.49/kWh. The agreement required the developer to meet certain Conditions Precedent (CPs) within 240 days and achieve Commercial Operation Date (COD) within 12 months.</p>\n' +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      '<p><strong>Read also:-</strong> <a href="https://courtbook.in/posts/kerala-high-court-denies-indian-citizenship-without-renunciation-certificate-from-pakistan">Kerala High Court Denies Indian Citizenship Without Renunciation Certificate from Pakistan</a></p>\n' +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>However, delays occurred because the Karnataka Power Transmission Corporation Ltd. (KPTCL) could not complete the required 220 kV transmission lines on time. The developer sought extensions, but CESC insisted on reducing the tariff to ₹2.39/kWh, which led to litigation.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>Despite interim orders from KERC restraining it, CESC encashed the performance bank guarantee of ₹24.9 crore, claiming the developer failed to meet obligations.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      `<p><strong>Read also:-</strong> <a href="https://courtbook.in/posts/supreme-court-issues-notice-on-up-bar-councils-rs-14k-fee-for-advocates-enrolment">Supreme Court Issues Notice on UP Bar Council's Rs.14K Fee for Advocates' Enrolment</a></p>\n` +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>On January 28, 2015, KERC ruled that the delay was a Force Majeure event beyond the developer’s control and ordered:</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:list -->\n" +
      '<ul class="wp-block-list"><!-- wp:list-item -->\n' +
      "<li>Restoration of the encashed performance guarantee,</li>\n" +
      "<!-- /wp:list-item -->\n" +
      "\n" +
      "<!-- wp:list-item -->\n" +
      "<li>Extension of contractual timelines, and</li>\n" +
      "<!-- /wp:list-item -->\n" +
      "\n" +
      "<!-- wp:list-item -->\n" +
      "<li>Renegotiation of tariff.</li>\n" +
      "<!-- /wp:list-item --></ul>\n" +
      "<!-- /wp:list -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>APTEL upheld this decision on March 21, 2018.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>The Supreme Court examined five key issues, including whether CESC was entitled to encash the guarantee and whether the delay qualified as Force Majeure.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>The Court noted:</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:list -->\n" +
      '<ul class="wp-block-list"><!-- wp:list-item -->\n' +
      '<li>The developer neither sought an extension under <a href="https://courtbook.in/constitution/article/article-5-citizenship-at-the-commencement-of-the-constitution">Article 5.</a>7 of the PPA nor issued a proper Force Majeure notice under<a href="https://courtbook.in/constitution/article/article-14-equality-before-law"> Article 14.5</a>.</li>\n' +
      "<!-- /wp:list-item -->\n" +
      "\n" +
      "<!-- wp:list-item -->\n" +
      "<li>The delay caused by KPTCL did not automatically extend timelines; relief had to be sought within the contractual framework.</li>\n" +
      "<!-- /wp:list-item -->\n" +
      "\n" +
      "<!-- wp:list-item -->\n" +
      "<li>The invocation of the performance guarantee by CESC on 12.11.2014 occurred before KERC’s restraining order of 14.11.2014.</li>\n" +
      "<!-- /wp:list-item --></ul>\n" +
      "<!-- /wp:list -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      `<p><strong>Read also:-</strong> <a href="https://courtbook.in/posts/supreme-court-issues-notice-on-up-bar-councils-rs-14k-fee-for-advocates-enrolment"><a href="https://courtbook.in/posts/delhi-high-court-overturns-registrars-decision-allows-pro-fitness-trademark-registration">Delhi High Court Overturns Registrar's Decision, Allows "PRO.FITNESS" Trademark Registration</a></a></p>\n` +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:quote -->\n" +
      '<blockquote class="wp-block-quote"><!-- wp:paragraph -->\n' +
      '<p>“The non-fulfilment of the Respondent’s obligations within the stipulated time, non-seeking of extension under <a href="https://courtbook.in/constitution/article/article-5-citizenship-at-the-commencement-of-the-constitution">Article 5.7</a> or valid Force Majeure claim under <a href="https://courtbook.in/constitution/article/article-14-equality-before-law">Article 14</a>, necessarily attracted Article 4.4 of the PPA.”</p>\n' +
      "<!-- /wp:paragraph --></blockquote>\n" +
      "<!-- /wp:quote -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>The Supreme Court ruled in favor of CESC, holding that the encashment of the performance guarantee was valid and in line with the PPA. It concluded that regulatory bodies cannot rewrite commercial contracts or alter risk allocation agreed between parties.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>The Court therefore set aside both KERC’s order of January 28, 2015, and APTEL’s judgment of March 21, 2018.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p><strong>Case:</strong> Chamundeshwari Electricity Supply Co. Ltd. (CESC) vs Saisudhir Energy (Chitradurga) Pvt. Ltd. &amp; Anr.</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p><strong>Case Number:</strong> Civil Appeal No. 6888 of 2018</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p><strong>Judgement Date:</strong> 25 August 2025</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p><strong>Appellant:</strong> Chamundeshwari Electricity Supply Company Ltd. (CESC), Karnataka</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p><strong>Respondents:</strong></p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>Respondent No.1 – Saisudhir Energy (Chitradurga) Pvt. Ltd. (Developer)</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      "<!-- wp:paragraph -->\n" +
      "<p>Respondent No.2 – Karnataka Power Transmission Corporation Ltd. (KPTCL)</p>\n" +
      "<!-- /wp:paragraph -->\n" +
      "\n" +
      '<!-- wp:file {"id":23954,"href":"https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Supply-Co.-Ltd.-CESC-vs-Saisudhir-Energy-Chitradurga-Pvt.-Ltd.-Anr.pdf","displayPreview":false} -->\n' +
      '<div class="wp-block-file"><a href="https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Supply-Co.-Ltd.-CESC-vs-Saisudhir-Energy-Chitradurga-Pvt.-Ltd.-Anr.pdf" class="wp-block-file__button wp-element-button" download>Download Judgments</a></div>\n' +
      "<!-- /wp:file -->",
    post_title:
      "Supreme Court Sets Aside APTEL and KERC Orders in Chamundeshwari Electricity Case",
    post_excerpt: "",
    post_status: "publish",
    comment_status: "open",
    ping_status: "open",
    post_password: "",
    post_name:
      "supreme-court-sets-aside-aptel-and-kerc-orders-in-chamundeshwari-electricity-case",
    to_ping: "",
    pinged: "",
    post_modified: "2025-08-25T12:34:43.000Z",
    post_modified_gmt: "2025-08-25T07:04:43.000Z",
    post_content_filtered: "",
    post_parent: 0,
    menu_order: 0,
    post_type: "post",
    post_mime_type: "",
    comment_count: 0,
    author_id: 4,
    author_name: "Vivek G.",
    author_email: "vivek@courtbook.in",
    thumbnail_id: "23955",
    thumbnail_url:
      "https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Case.webp",
    meta_description:
      "Supreme Court allows CESC’s appeal, sets aside KERC and APTEL orders in a solar power dispute with Saisudhir Energy over PPA delays and bank guarantee encashment.",
    file_download_url:
      "https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Supply-Co.-Ltd.-CESC-vs-Saisudhir-Energy-Chitradurga-Pvt.-Ltd.-Anr.pdf",
    tags: [
      "Supreme Court solar power judgment",
      "Chamundeshwari Electricity case",
      "CESC vs Saisudhir Energy",
    ],
    categories: ["Judgments", "Supreme Court", "Trending", "Latest News"],
    meta_keyword:
      "Supreme Court electricity sector rulings, Force Majeure in PPA contracts, Karnataka power transmission delay case, Supreme Court solar power judgment, CESC vs Saisudhir Energy, Chamundeshwari Electricity case, APTEL solar project dispute, Solar PPA dispute Supreme Court, Performance bank guarantee encashment, Karnataka Electricity Regulatory Commission case",
    imageSizes: {
      medium:
        "https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Case-300x169.webp",
      large:
        "https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Case-1024x576.webp",
      thumbnail:
        "https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Case-150x150.webp",
      medium_large:
        "https://s3.courtbook.in/2025/08/Chamundeshwari-Electricity-Case-768x432.webp",
    },
    similarPosts: [
      {
        ID: 26043,
        post_title:
          'Supreme Court Orders Nationwide Monitoring of Disability Homes, Launches "Project Ability Empowerment"',
        post_name:
          "supreme-court-orders-nationwide-monitoring-of-disability-homes-launches-project-ability-empowerment",
        post_date: "2025-09-12T10:38:27.000Z",
        thumbnail_url: "https://s3.courtbook.in/2025/09/Disability-Homes.webp",
        imageSizes: [Object],
      },
      {
        ID: 25395,
        post_title:
          "Supreme Court Rejects BJP Telangana’s Defamation Case Against CM Revanth Reddy, Warns Against Political Misuse of Courts",
        post_name:
          "supreme-court-rejects-bjp-telanganas-defamation-case-against-cm-revanth-reddy-warns-against-political-misuse-of-courts",
        post_date: "2025-09-08T08:59:54.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/09/Bharatiya-Janata-Party-Telangana-vs.-A.-Revanth-Reddy.webp",
        imageSizes: [Object],
      },
      {
        ID: 25104,
        post_title:
          "Punjab and Haryana High Court Stays Proceedings Against Actor Rajkummar Rao in Lord Shiva Depiction FIR Case",
        post_name:
          "punjab-and-haryana-high-court-stays-proceedings-against-actor-rajkummar-rao-in-lord-shiva-depiction-fir-case",
        post_date: "2025-09-05T06:45:42.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/09/Raj-Kumar-Rao-Rajkummar-Rao-panjab-hariyana-high-court-punjab.webp",
        imageSizes: [Object],
      },
      {
        ID: 25214,
        post_title:
          "Supreme Court Raps Allahabad HC for Treating Witness Protection Scheme as Bail Cancellation Alternative, Orders Fresh Hearing",
        post_name:
          "supreme-court-raps-allahabad-hc-for-treating-witness-protection-scheme-as-bail-cancellation-alternative-orders-fresh-hearing",
        post_date: "2025-09-06T08:29:44.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/03/supreme-court-with-allahabad-high-court.webp",
        imageSizes: [Object],
      },
      {
        ID: 25402,
        post_title:
          "Chhattisgarh High Court Quashes Demolition Notice, Orders Fresh Hearing in Nagri Shop Allotment Case",
        post_name:
          "chhattisgarh-high-court-quashes-demolition-notice-orders-fresh-hearing-in-nagri-shop-allotment-case",
        post_date: "2025-09-08T09:45:03.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/09/Quashes-Demolition-Notice.webp",
        imageSizes: [Object],
      },
      {
        ID: 25991,
        post_title:
          "Andhra Pradesh High Court Dismisses Partition Dispute Appeal, Upholds Equal Rights of Daughters in Family Property",
        post_name:
          "andhra-pradesh-high-court-dismisses-partition-dispute-appeal-upholds-equal-rights-of-daughters-in-family-property",
        post_date: "2025-09-12T10:22:25.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/05/andhra-pradesh-high-courts-2-1500-x-900.webp",
        imageSizes: [Object],
      },
      {
        ID: 25073,
        post_title:
          "Gauhati High Court remands tribunal's order declaring Assam woman as foreigner for fresh review",
        post_name:
          "gauhati-high-court-remands-tribunals-order-declaring-assam-woman-as-foreigner-for-fresh-review",
        post_date: "2025-09-04T16:27:01.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/03/gauhati-high-court.webp",
        imageSizes: [Object],
      },
      {
        ID: 25239,
        post_title:
          "Supreme Court Rules Insurance Company Fully Liable in Utility Vehicle Accident Compensation Dispute",
        post_name:
          "supreme-court-rules-insurance-company-fully-liable-in-utility-vehicle-accident-compensation-dispute",
        post_date: "2025-09-06T10:44:04.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/09/Shyam-Lal-v.-Shriram-General-Insurance-Co.-Ltd.-Others-Justice-K.-Vinod-Chandran-and-Justice-N.-V.-Anjaria.webp",
        imageSizes: [Object],
      },
      {
        ID: 26114,
        post_title:
          "Supreme Court Upholds Time-Bar Ruling in Vaneeta Patnaik Sexual Harassment Case, Orders Remark in Vice Chancellor’s Resume",
        post_name:
          "supreme-court-upholds-time-bar-ruling-in-vaneeta-patnaik-sexual-harassment-case-orders-remark-in-vice-chancellors-resume",
        post_date: "2025-09-13T06:28:14.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/09/Sexual-Harassment-Case.webp",
        imageSizes: [Object],
      },
      {
        ID: 25953,
        post_title:
          "Supreme Court Orders Maharashtra to Form Special Team for Akola Riot Assault on Teen Witness",
        post_name:
          "supreme-court-orders-maharashtra-to-form-special-team-for-akola-riot-assault-on-teen-witness",
        post_date: "2025-09-12T07:02:28.000Z",
        thumbnail_url:
          "https://s3.courtbook.in/2025/09/Special-Team-for-Akola-Riot-Assault.webp",
        imageSizes: [Object],
      },
    ],
    author: {
      ID: 4,
      display_name: "Vivek G.",
      user_email: "vivek@courtbook.in",
      website: "https://courtbook.in",
      facebook: null,
      twitter: "Adv_Vivek_G",
      linkedin: "www.linkedin.com/in/adv-vivek-g-20628336a",
      instagram: null,
      author_image:
        "https://www.gravatar.com/avatar/5fed6d1a62aa2355eb64423ef1e0469d?s=256&d=identicon",
    },
  };

  const src = post.imageSizes?.medium_large || post.thumbnail_url;

  // Convert markdown-style content to HTML (simplified version)
  const htmlContent = post.post_content
    .replace(/<p><strong>Read also:-<\/strong>[\s\S]*?<\/p>/gi, "")
    .replace(/## (.*?)$/gm, "<h2>$1</h2>")
    .replace(/### (.*?)$/gm, "<h3>$1</h3>")
    .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
    .replace(/\*(.*?)\*/g, "<em>$1</em>");

  function cleanArticleBody(content) {
    return content
      .replace(/<!--[\s\S]*?-->/g, "")
      .replace(/<\/?[^>]+(>|$)/g, "")
      .replace(/&nbsp;/g, " ")
      .replace(/&amp;/g, "&")
      .replace(/&quot;/g, '"')
      .replace(/&#39;/g, "'")
      .replace(/\s+/g, " ")
      .trim()
      .substring(0, 5000); // Limit length for structured data
  }

  // Get optimized image source
  const getImageSrc = (post) => {
    return post.imageSizes?.medium_large || post.thumbnail_url;
  };

  // Format date for AMP
  const formatDate = (dateStr) => {
    return new Date(dateStr).toISOString();
  };

  // Generate canonical URL
  const canonicalUrl = `${baseUrl}/posts/${post.post_name}`;
  const ampUrl = `${baseUrl}/amp/posts/${post.post_name}`;

  return `<!doctype html>
<html ⚡ lang="en">
<head>
  <meta charset="utf-8">
  <title>${post.post_title}</title>

  <!-- Required AMP Scripts -->
  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
  <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>

  <!-- AMP Meta Requirements -->
  <link rel="canonical" href="${canonicalUrl}">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  
  <!-- SEO Meta -->
  <meta name="description" content="${post.meta_description}">
  <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
  <meta name="author" content="${post.author.display_name}">

  <!-- Open Graph -->
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="${post.post_title}">
  <meta property="og:description" content="${post.meta_description}">
  <meta property="og:url" content="${canonicalUrl}">
  <meta property="og:site_name" content="Court Book">
  <meta property="og:image" content="${post.thumbnail_url}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="${post.post_title}">
  <meta name="twitter:description" content="${post.meta_description}">
  <meta name="twitter:image" content="${post.thumbnail_url}">

  <!-- Article Meta -->
  <meta property="article:published_time" content="${formatDate(
    post.post_date
  )}">
  <meta property="article:modified_time" content="${formatDate(
    post.post_modified
  )}">
  <meta property="article:author" content="${post.author.display_name}">
  <meta property="article:section" content="Legal News">
  ${post.tags
    .map((tag) => `<meta property="article:tag" content="${tag}">`)
    .join("\n  ")}

  <!-- Preload Critical Resources -->
  <link rel="preload" as="image" href="${getImageSrc(
    post
  )}" fetchpriority="high">

  <!-- AMP Boilerplate -->
  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

  <!-- Custom Styles -->
  <style amp-custom>
    /* Reset and Base Styles */
    * { box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #1f2937;
      margin: 0;
      padding: 0;
      background: #fff;
      line-height: 1.6;
    }

    /* Header */
    .header {
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      top: 0;
      z-index: 10;
    }

    .hamburger {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      padding: 8px;
      color: #374151;
    }

    .logo {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-weight: 700;
      color: #dc2626;
      text-decoration: none;
      display: flex;
      align-items: center;
    }

    .logo amp-img {
      margin-right: 8px;
    }

    /* Breadcrumbs */
    .breadcrumbs {
      background: #f9fafb;
      padding: 8px 20px;
      border-bottom: 1px solid #e5e7eb;
      font-size: 14px;
    }

    .breadcrumb-item {
      display: inline;
      color: #6b7280;
    }

    .breadcrumb-item a {
      color: #dc2626;
      text-decoration: none;
    }

    .breadcrumb-item:not(:last-child)::after {
      content: " › ";
      margin: 0 8px;
      color: #9ca3af;
    }

    /* Sidebar */
    .sidebar {
      background: #fff;
      width: 280px;
      height: 100vh;
      overflow-y: auto;
    }

    .sidebar-header {
      padding: 16px 20px;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .close-sidebar {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #374151;
    }

    .sidebar-content {
      padding: 20px;
    }

    .sidebar-section {
      margin-bottom: 24px;
    }

    .sidebar-section h3 {
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 12px;
      color: #111827;
      border-bottom: 2px solid #dc2626;
      padding-bottom: 6px;
    }

    .sidebar-nav {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar-nav li {
      margin: 4px 0;
    }

    .sidebar-nav a {
      display: block;
      padding: 8px 12px;
      color: #374151;
      text-decoration: none;
      border-radius: 6px;
      font-size: 14px;
      transition: background-color 0.2s;
    }

    .sidebar-nav a:hover {
      background-color: #f3f4f6;
      color: #dc2626;
    }

    /* Main Content */
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    h1 {
      font-size: 2rem;
      font-weight: 700;
      line-height: 1.2;
      color: #111827;
      margin: 0 0 16px;
    }

    .meta {
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 20px;
      padding: 16px 0;
      border-bottom: 1px solid #e5e7eb;
    }

    .article-description {
      font-size: 16px;
      color: #6b7280;
      margin-bottom: 24px;
      font-style: italic;
    }

    .article-image {
      margin: 24px 0;
      border-radius: 8px;
      overflow: hidden;
    }

    /* Article Content */
    article {
      font-size: 16px;
      line-height: 1.7;
    }

    article h2, article h3, article h4 {
      color: #111827;
      font-weight: 600;
      margin: 32px 0 16px;
      line-height: 1.3;
    }

    article h2 { font-size: 1.5rem; }
    article h3 { font-size: 1.25rem; }
    article h4 { font-size: 1.125rem; }

    article p {
      margin-bottom: 16px;
      color: #374151;
    }

    article a {
      color: #dc2626;
      text-decoration: underline;
      font-weight: 500;
    }

    article a:hover {
      text-decoration: none;
    }

    article ul, article ol {
      margin: 16px 0;
      padding-left: 24px;
    }

    article li {
      margin-bottom: 8px;
      color: #374151;
    }

    article blockquote {
      border-left: 4px solid #dc2626;
      margin: 24px 0;
      padding: 16px 20px;
      background: #f9fafb;
      border-radius: 0 4px 4px 0;
      font-style: italic;
    }

    article strong {
      font-weight: 600;
      color: #111827;
    }

    /* Share Buttons */
    .share-section {
      margin: 32px 0;
      padding: 20px;
      background: #f9fafb;
      border-radius: 8px;
    }

    .share-section h2 {
      font-size: 18px;
      margin: 0 0 12px;
      color: #111827;
    }

    .share-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .share-btn {
      display: inline-flex;
      align-items: center;
      padding: 8px 16px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: transform 0.2s;
    }

    .share-btn:hover {
      transform: translateY(-2px);
    }

    .facebook { background: #1877f2; color: white; }
    .twitter { background: #1da1f2; color: white; }
    .linkedin { background: #0077b5; color: white; }
    .whatsapp { background: #25d366; color: white; }

    /* Tags */
    .tags {
      margin: 32px 0;
      padding: 20px 0;
      border-top: 1px solid #e5e7eb;
    }

    .tag {
      display: inline-block;
      background: #f3f4f6;
      color: #374151;
      padding: 6px 12px;
      border-radius: 16px;
      margin: 4px 8px 4px 0;
      font-size: 13px;
      text-decoration: none;
      border: 1px solid #e5e7eb;
    }

    .tag:hover {
      background: #e5e7eb;
    }

    /* WhatsApp Section */
    .whatsapp-section {
      margin: 32px 0;
      padding: 20px;
      background: linear-gradient(135deg, #25d366, #128c7e);
      border-radius: 8px;
      color: white;
    }

    .whatsapp-section h4 {
      margin: 0 0 12px;
      font-size: 16px;
    }

    .whatsapp-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .whatsapp-links li {
      margin: 8px 0;
    }

    .whatsapp-links a {
      color: white;
      text-decoration: none;
      font-size: 14px;
      display: flex;
      align-items: center;
    }

    .whatsapp-links a::before {
      content: "📱";
      margin-right: 8px;
    }

    /* Similar Posts */
    .similar-posts-grid {
    margin-top: 30px;
    }

    .similar-post-card {
    display: flex;
    }

    /* Similar Posts Styles - Vertical List */
.similar-posts h2 { 
  font-size: 1.2em; 
  margin-top: 50px;
  color: #111827; 
  font-weight: 700; 
  border-bottom: 1px solid #DC2626; 
  padding-bottom: 8px; 
}

.similar-posts-list { 
  list-style: none; 
  padding: 0; 
  margin: 0; 
}

.similar-post-item { 
  margin-bottom: 20px; 
  padding-bottom: 15px; 
  border-bottom: 1px solid #E5E7EB; 
}

.similar-post-item:last-child { 
  border-bottom: none; 
  margin-bottom: 0; 
}

.similar-post-link { 
  text-decoration: none; 
  color: inherit; 
  display: flex; 
  gap: 12px; 
}

.similar-post-image { 
  flex-shrink: 0; 
  width: 150px; 
  height: 150px; 
  overflow: hidden; 
  border-radius: 4px; 
}

.similar-post-content { flex: 1; margin:0, padding:0  }

.similar-post-title { 
  font-size: 14px; 
  font-weight: 600; 
  line-height: 1.3; 
  margin-bottom: 6px; 
  margin:0;
  color: #111827; 
  display: -webkit-box; 
  -webkit-line-clamp: 2; 
  -webkit-box-orient: vertical; 
  overflow: hidden; 
}

.similar-post-date { 
  font-size: 11px; 
  color: #6B7280; 
}

.similar-post-link:hover .similar-post-title { 
  color: #DC2626; 
}

    /* Footer */
    footer {
      margin-top: 48px;
      padding: 24px 20px;
      background: #f9fafb;
      border-top: 1px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 14px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 16px;
      }

      h1 {
        font-size: 1.5rem;
      }

      .share-buttons {
        justify-content: center;
      }

      .similar-post-image {
        width: 80px;
        height: 60px;
      }

      .similar-post-title {
        font-size: 13px;
      }
    }
  </style>

  <!-- Consolidated Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "NewsArticle",
        "@id": "${canonicalUrl}#article",
        "headline": "${post.post_title}",
        "description": "${post.meta_description}",
        "articleBody": "${cleanArticleBody(post.post_content)}",
        "url": "${canonicalUrl}",
        "datePublished": "${formatDate(post.post_date)}",
        "dateModified": "${formatDate(post.post_modified)}",
        "author": {
          "@type": "Person",
          "name": "${post.author.display_name}",
          "@id": "${baseUrl}/author/${post.author.display_name}"
        },
        "publisher": {
          "@id": "${baseUrl}#organization"
        },
        "mainEntityOfPage": {
          "@id": "${canonicalUrl}"
        },
        "image": {
          "@type": "ImageObject",
          "url": "${post.thumbnail_url}",
          "width": 1200,
          "height": 630
        },
        "articleSection": "Legal News",
        "keywords": "${post.tags.join(", ")}"
      },
      {
        "@type": "Organization",
        "@id": "${baseUrl}#organization",
        "name": "Court Book",
        "url": "${baseUrl}",
        "logo": {
          "@type": "ImageObject",
          "url": "${baseUrl}/images/logo.png",
          "width": 240,
          "height": 60
        }
      },
      {
        "@type": "WebPage",
        "@id": "${canonicalUrl}",
        "url": "${canonicalUrl}",
        "name": "${post.post_title}",
        "isPartOf": {
          "@id": "${baseUrl}#website"
        },
        "primaryImageOfPage": {
          "@id": "${canonicalUrl}#primaryimage"
        },
        "datePublished": "${formatDate(post.post_date)}",
        "dateModified": "${formatDate(post.post_modified)}"
      },
      {
        "@type": "WebSite",
        "@id": "${baseUrl}#website",
        "url": "${baseUrl}",
        "name": "Court Book",
        "publisher": {
          "@id": "${baseUrl}#organization"
        }
      }
    ]
  }
  </script>
</head>
<body>
  <!-- Header -->
<header class="header">
  <button class="hamburger" on="tap:sidebar.toggle" aria-label="Open menu">☰</button>
  <a href="/" class="logo">
    <amp-img src="/center_icon.png" 
             width="150" 
             height="45" 
             alt="CourtBook Logo"
             layout="fixed">
    </amp-img>
  </a>
</header>

  <!-- Breadcrumbs -->
  <nav class="breadcrumbs">
    <span class="breadcrumb-item"><a href="/">Home</a></span>
    <span class="breadcrumb-item"><a href="/posts">Posts</a></span>
    <span class="breadcrumb-item">${post.post_title}</span>
  </nav>

  <!-- Sidebar -->
  <amp-sidebar id="sidebar" layout="nodisplay" side="left" class="sidebar">
    <div class="sidebar-header">

      <button class="close-sidebar" on="tap:sidebar.toggle">×</button>
    </div>
    
    <div class="sidebar-content">

    <div class="sidebar-section">
        <ul class="sidebar-nav">
          <li><a href="/">Home</a></li>
          <li><a href="/search?category=popular">Bare Acts</a></li>
          <li><a href="/constitution/parts">Constitution</a></li>
          <li><a href="/draft/english">Legal Draft</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <h3>Courtbook English</h3>
        <ul class="sidebar-nav">
          <li><a href="/posts/category/latest">Latest News</a></li>
          <li><a href="/posts/category/supreme-court">Supreme Court</a></li>
          <li><a href="/posts/category/high-courts">High Court</a></li>
          <li><a href="/posts/category/judgments">Judgment & Orders</a></li>
          <li><a href="/posts/category/consumer">Consumer Cases</a></li>
        </ul>
      </div>

            <div class="sidebar-section">
        <h3>Courtbook हिन्दी</h3>
        <ul class="sidebar-nav">
          <li><a href="/posts/category/latest-news-hindi">ताज़ा ख़बरें</a></li>
          <li><a href="/posts/category/supreme-court-hindi">सर्वोच्च न्यायालय</a></li>
          <li><a href="/posts/category/high-courts-hindi">उच्च न्यायालय</a></li>
          <li><a href="/posts/category/judgments-hindi">जजमेंट</a></li>
          <li><a href="/posts/category/consumer-cases-hindi">उपभोक्ता मामले</a></li>
        </ul>
      </div>

      
      <div class="sidebar-section">
        <h3>Quick Links</h3>
        <ul class="sidebar-nav">
          <li><a href="/about-us">About Us</a></li>
          <li><a href="/terms-of-use">Terms of Use</a></li>
          <li><a href="/privacy-policy">Privacy Policy</a></li>
          <li><a href="/disclaimer">Disclaimer</a></li>
          <li><a href="/contact-us">Contact Us</a></li>
        </ul>
      </div>
    </div>
  </amp-sidebar>

  <!-- Main Content -->
  <main class="content">
    <div class="container">
      <h1>${post.post_title}</h1>
      
      <div class="meta">
        By ${post.author.display_name} • ${new Date(
    post.post_date
  ).toLocaleDateString("en-US", {
    year: "numeric",
    month: "long",
    day: "numeric",
  })} 
      </div>

      <p style="font-size: 15px; color: #6B7280; margin-bottom: 20px;">${
        post.meta_description
      }</p>

    <div class="article-image">
      <amp-img
        src="${src}"
        width="1280"
        height="720"
        layout="responsive"
        decoding="async"
        loading="eager"
        fetchpriority="high"
        alt="${post.post_title}">
      </amp-img>
    </div>

      <div class="social-section">
  <h2>Share this post</h2>
  <div class="share-buttons">
    <a href="https://www.facebook.com/sharer/sharer.php?u=${
      post?.post_name
    }" target="_blank" rel="noopener" aria-label="Share on Facebook">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook" />
    </a>

    <a href="https://twitter.com/intent/tweet?url=${
      post?.post_name
    }&text=Check%20this%20out!" target="_blank" rel="noopener" aria-label="Share on Twitter">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg" alt="Twitter/X" />
    </a>

    <a href="https://www.linkedin.com/sharing/share-offsite/?url=${
      post?.post_name
    }" target="_blank" rel="noopener" aria-label="Share on LinkedIn">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn" />
    </a>

    <a href="https://api.whatsapp.com/send?text=Check%20this%20out!%20${
      post?.post_name
    }" target="_blank" rel="noopener" aria-label="Share on WhatsApp">
      <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="WhatsApp" />
    </a>
  </div>
</div>
      
    <!-- Article Content -->
    <article>
      ${post.post_content
        .replace(/<!--[\s\S]*?-->/g, "")
        .replace(/<p><strong>Read also:-<\/strong>[\s\S]*?<\/p>/gi, "")}
    </article>

      <div class="tags">
        <strong>Tags: </strong>
        ${post.tags
          .map((tag) => `<a href="/tag/${tag}" class="tag">${tag}</a>`)
          .join("")}
      </div>
      <div class="social-section">

    <!-- WhatsApp Section -->
    <div class="whatsapp-section">
      <h4>Join Our WhatsApp Community</h4>
      <ul class="whatsapp-links">
        <li><a href="https://chat.whatsapp.com/KwREoyfM5rO7yCYzZ5i2El" target="_blank" rel="noopener">Hindi Group</a></li>
        <li><a href="https://chat.whatsapp.com/GzYLFXvAPAC32ZQW11D8KQ" target="_blank" rel="noopener">English Group</a></li>
        <li><a href="https://whatsapp.com/channel/0029VbAhqIsDeON4mckDIV0e" target="_blank" rel="noopener">News Channel</a></li>
      </ul>
    </div>
</div>

            <!-- Similar Posts Section -->
      <section class="similar-posts">
        <h2>Recommended</h2>
<div class="similar-posts-grid">
  ${post?.similarPosts
    .map(
      (similarPost) => `
        <article class="similar-post-card">
          <a href="/posts/${similarPost?.post_name}" class="similar-post-link">
            <div class="similar-post-image">
              <amp-img
                src="${
                  similarPost?.imageSizes?.medium ||
                  similarPost?.imageSizes?.medium_large
                }"
                width="300"
                height="169"
                layout="responsive"
                alt="${similarPost?.post_title}">
              </amp-img>
            </div>
            <div class="similar-post-content">
              <h3 class="similar-post-title">${similarPost?.post_title}</h3>
              <time class="similar-post-date">${new Date(
                similarPost?.post_date
              ).toLocaleDateString("en-US", {
                month: "short",
                day: "numeric",
                year: "numeric",
              })}</time>
            </div>
          </a>
        </article>
      `
    )
    .join("")}
</div>

      </section>
    </div>
  </main>

  <footer>
    <p>© 2025 CourtBook. All rights reserved.</p>
  </footer>
</body>
</html>`;
}
